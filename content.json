{"meta":{"title":"猫叔饭-写代码的猫叔个人博客","subtitle":"","description":"","author":"猫叔","url":"https://maoshu.fun","root":"/"},"pages":[{"title":"","date":"2021-08-07T13:02:25.667Z","updated":"2021-08-07T13:02:25.667Z","comments":true,"path":"about/index.html","permalink":"https://maoshu.fun/about/index.html","excerpt":"","text":"其实没什么"},{"title":"","date":"2021-08-07T13:04:36.482Z","updated":"2021-08-07T13:04:36.482Z","comments":true,"path":"404.html","permalink":"https://maoshu.fun/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"文章分类","date":"2021-08-06T12:30:16.449Z","updated":"2021-08-06T12:30:16.449Z","comments":true,"path":"categories/index.html","permalink":"https://maoshu.fun/categories/index.html","excerpt":"","text":""},{"title":"我的朋友们","date":"2021-08-07T12:57:26.645Z","updated":"2021-08-07T12:57:26.645Z","comments":true,"path":"friends/index.html","permalink":"https://maoshu.fun/friends/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2021-08-06T12:30:16.450Z","updated":"2021-08-06T12:30:16.450Z","comments":true,"path":"tags/index.html","permalink":"https://maoshu.fun/tags/index.html","excerpt":"","text":""},{"title":"常见问题与反馈渠道","date":"2021-08-06T12:30:16.450Z","updated":"2021-08-06T12:30:16.450Z","comments":true,"path":"faqs/index.html","permalink":"https://maoshu.fun/faqs/index.html","excerpt":"通常来说，一个全新的工程全部使用默认配置是正常没有故障的。如果无法使用或者效果与示例有较大区别，可以使用 Hexo 官方提供的用于单元测试的博客应用本主题查看样式是否正常，对比 _config.yml 文件排查问题。 Hexo 官方的单元测试项目： https://github.com/hexojs/hexo-theme-unit-test 向开发者反馈问题","text":"通常来说，一个全新的工程全部使用默认配置是正常没有故障的。如果无法使用或者效果与示例有较大区别，可以使用 Hexo 官方提供的用于单元测试的博客应用本主题查看样式是否正常，对比 _config.yml 文件排查问题。 Hexo 官方的单元测试项目： https://github.com/hexojs/hexo-theme-unit-test 向开发者反馈问题 如何更新主题使用主题的时候，尽量 fork 主题到自己的 GitHub，然后进行修改并使用。这样做的好处是：当主题进行重要更新的时候可以根据需要拉取合并代码，使自己 DIY 的主题能够通过更新获取 BUG 修复或者新特性。 如果不懂请自行搜索关键词：fork 更新 实用小技巧所有需要写在主题配置文件中的配置都可以写在站点配置文件的 theme_config: 中，在 Hexo 5.0 后，还可以写在 _config.volantis.yml 文件中，详见 Hexo 官方文档：覆盖主题配置https://hexo.io/zh-cn/docs/configuration#%E8%A6%86%E7%9B%96%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE也可以直接查看本站源码中站点配置文件的写法：_config.volantis.yml 无法成功运行本地预览 可能是没有安装依赖，请按照「开始」页面中的步骤进行安装，并安装所需依赖。 如果开启了某些第三方服务，请查看文档中是否要求安装插件。 如果报错信息有 lastIndex，你可以尝试把博客根目录配置文件中找到 highlight，并将 auto_detect 设置为 false。 主题配置修改没有生效请确认文档中要求修改的是博客主目录的配置文件 blog/_config.yml 还是主题的配置文件 blog/_config.volantis.yml。 主题样式修改没有生效如果主题配置文件中开启了 cdn 服务，那么修改本地的样式是不会生效的，需要关闭 cdn 服务。 修改什么都没有生效需要 hexo clean 然后重新 hexo s 如果安装了「相关文章推荐」插件后，每次修改 md 文件后都需要重新 hexo s 关掉 CDN 之后样式错乱 请前往文档「开始」页面，检查是否安装了必要的依赖包。 搜索无法使用 请前往文档「开始」页面，检查是否安装了必要的依赖包。 检查根目录配置文件是否有 search 字段冲突。 如果以上两步都无法找到问题，请下载示例源码进行对比。 搜索结果链接不正确请检查根目录配置文件中的链接是否正确，如： url: https://xaoxuu.com root: / 教程与指南 Hexo 官方文档 | Valine 官方文档请一定要阅读官方文档！ 可供交流的渠道解决问题 渠道 方式 用途 Issues @volantis-x/hexo-theme-volantis 和开发者沟通的唯一渠道，用于跟进和解决问题 请不要发送邮件开源项目的开发者很反感别人不通过正确的途径如 Issues 而是通过私人邮件询问开源项目问题，所以一般不会回复此类邮件。 交流 渠道 方式 用途 论坛 @volantis-x/discussions 慢，相对正式，方便检索，可以给其他用户参考 QQ群 1146399464 (验证码: vlts-2021) 非正式，即时通讯，易于斗图；不利于给其他用户参考 佛系互动 渠道 方式 用途 评论区 留言 可以测试、灌水、推广自己的博客。"}],"posts":[{"title":"油猴脚本案例：拦截点击事件， GM_setClipboard复制文本","slug":"油猴脚本案例：拦截点击事件， GM_setClipboard复制文本","date":"2021-10-10T05:25:18.000Z","updated":"2021-10-10T05:39:01.776Z","comments":true,"path":"posts/cc7c94cd.html","link":"","permalink":"https://maoshu.fun/posts/cc7c94cd.html","excerpt":"","text":"拦截a标签点击，并复制文本： // ==UserScript== // @name 案例：拦截点击，并复制文本 // @match *://www.baidu.com/* // @grant GM_setClipboard // ==/UserScript== (function() &#123; &#39;use strict&#39;; document.querySelectorAll(&#39;.hotsearch-item .title-content-title&#39;).forEach(element =&gt; &#123; element.addEventListener(&#39;click&#39;,(e)=&gt;&#123; // console.log(&#39;clicked&#39;,e); GM_setClipboard(e.target.innerText) e.preventDefault() &#125;) &#125;); // Your code here... &#125;)(); 进阶：添加一个按钮，点击复制 // ==UserScript== // @name 案例：添加按钮，拦截点击，并复制文本 // @description 测试样例 // @match *://www.baidu.com/* // @grant GM_setClipboard // ==/UserScript== (function() &#123; &#39;use strict&#39;; document.querySelectorAll(&#39;.hotsearch-item .title-content-title&#39;).forEach(element =&gt; &#123; let btn = document.createElement(&#39;button&#39;) btn.innerText = &#39;ceshi&#39; element.before(btn) btn.addEventListener(&#39;click&#39;,(e)=&gt;&#123; GM_setClipboard(element.innerText) e.preventDefault() &#125;) &#125;); &#125;)();","categories":[],"tags":[{"name":"油猴脚本","slug":"油猴脚本","permalink":"https://maoshu.fun/tags/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/"}]},{"title":"php文件操作的常用函数","slug":"php文件操作的常用函数","date":"2021-10-09T05:23:14.000Z","updated":"2021-10-09T07:02:23.657Z","comments":true,"path":"posts/82c6172.html","link":"","permalink":"https://maoshu.fun/posts/82c6172.html","excerpt":"","text":"删除几分钟前的文件使用案例（删除几天前的日志文件）： $path =SYSTEM_PATH . DIRECTORY_SEPARATOR .&#39;log&#39;; $this-&gt;delete_file($path,$days*24*60); 函数： protected function delete_file($dir,$time_minu) &#123; if(is_dir($dir))&#123; if($dh=opendir($dir))&#123; while (false !== ($file = readdir($dh)))&#123; if($file!=&quot;.&quot; &amp;&amp; $file!=&quot;..&quot;)&#123; $fullpath=$dir.&quot;/&quot;.$file; if(!is_dir($fullpath))&#123; $filedate=filemtime($fullpath); $minutes=round((time()-$filedate)/60); //删除文件 if($minutes&gt;$time_minu)&#123; unlink($fullpath); &#125; &#125; else&#123; $this-&gt;delete_file($fullpath,$time_minu); &#125; &#125; &#125; &#125; closedir($dh); &#125; &#125; 常用函数 class File &#123; public static function mk_dir($dir) &#123; $dir = rtrim($dir, &#39;/&#39;) . &#39;/&#39;; if (!is_dir($dir)) &#123; if (mkdir($dir, 0700, true) == false) &#123; return false; &#125; return true; &#125; return true; &#125; public static function read_file($filename) &#123; $content = &#39;&#39;; if (function_exists(&#39;file_get_contents&#39;)) &#123; @$content = file_get_contents($filename); &#125; else &#123; if (@$fp = fopen($filename, &#39;r&#39;)) &#123; @$content = fread($fp, filesize($filename)); @fclose($fp); &#125; &#125; return $content; &#125; public static function write_file($filename, $writetext, $openmod = &#39;w&#39;) &#123; if (@$fp = fopen($filename, $openmod)) &#123; flock($fp, 2); fwrite($fp, $writetext); fclose($fp); return true; &#125; else &#123; return false; &#125; &#125; public static function del_dir($dirName) &#123; if (!file_exists($dirName)) &#123; return false; &#125; $dir = opendir($dirName); while ($fileName = readdir($dir)) &#123; $file = $dirName . DIRECTORY_SEPARATOR . $fileName; if ($fileName != &#39;.&#39; &amp;&amp; $fileName != &#39;..&#39;) &#123; if (is_dir($file)) &#123; self::del_dir($file); &#125; else &#123; unlink($file); &#125; &#125; &#125; closedir($dir); return rmdir($dirName); &#125; public static function copy_dir($surDir, $toDir) &#123; $surDir = rtrim($surDir, &#39;/&#39;) . &#39;/&#39;; $toDir = rtrim($toDir, &#39;/&#39;) . &#39;/&#39;; if (!file_exists($surDir)) &#123; return false; &#125; if (!file_exists($toDir)) &#123; self::mk_dir($toDir); &#125; $file = opendir($surDir); while ($fileName = readdir($file)) &#123; $file1 = $surDir . &#39;/&#39; . $fileName; $file2 = $toDir . &#39;/&#39; . $fileName; if ($fileName != &#39;.&#39; &amp;&amp; $fileName != &#39;..&#39;) &#123; if (is_dir($file1)) &#123; self::copy_dir($file1, $file2); &#125; else &#123; copy($file1, $file2); &#125; &#125; &#125; closedir($file); return true; &#125; public static function get_dirs($dir) &#123; $dir = rtrim($dir, &#39;/&#39;) . &#39;/&#39;; $dirArray[][] = null; if (false != ($handle = opendir($dir))) &#123; $i = 0; $j = 0; while (false !== ($file = readdir($handle))) &#123; if (is_dir($dir . $file)) &#123; $dirArray[&#39;dir&#39;][$i] = $file; $i++; &#125; else &#123; $dirArray[&#39;file&#39;][$j] = $file; $j++; &#125; &#125; closedir($handle); &#125; return $dirArray; &#125; public static function get_size($dir) &#123; $dirlist = opendir($dir); $dirsize = 0; while (false !== ($folderorfile = readdir($dirlist))) &#123; if ($folderorfile != &quot;.&quot; &amp;&amp; $folderorfile != &quot;..&quot;) &#123; if (is_dir(&quot;$dir/$folderorfile&quot;)) &#123; $dirsize += self::get_size(&quot;$dir/$folderorfile&quot;); &#125; else &#123; $dirsize += filesize(&quot;$dir/$folderorfile&quot;); &#125; &#125; &#125; closedir($dirlist); return $dirsize; &#125; public static function empty_dir($dir) &#123; return (($files = @scandir($dir)) &amp;&amp; count($files) &lt;= 2); &#125; public function cache($name, $value = &#39;&#39;, $path = DATA_PATH, $cached = true) &#123; static $_cache = array(); $filename = $path . $name . &#39;.php&#39;; if (&#39;&#39; !== $value) &#123; if (is_null($value)) &#123; return false !== strpos($name, &#39;*&#39;) ? array_map(&quot;unlink&quot;, glob($filename)) : unlink($filename); &#125; else &#123; $dir = dirname($filename); if (!is_dir($dir)) &#123; mkdir($dir, 0755, true); &#125; $_cache[$name] = $value; return file_put_contents($filename, strip_whitespace(&quot;&lt;?php\\treturn &quot; . var_export($value, true) . &quot;;?&gt;&quot;)); &#125; &#125; if (isset($_cache[$name]) &amp;&amp; $cached == true) &#123; return $_cache[$name]; &#125; if (is_file($filename)) &#123; $value = include $filename; $_cache[$name] = $value; &#125; else &#123; $value = false; &#125; return $value; &#125; &#125;","categories":[],"tags":[]},{"title":"electron-forge的安装方法和遇到的坑","slug":"electron-forge","date":"2021-08-20T08:08:23.000Z","updated":"2021-08-24T03:41:03.582Z","comments":true,"path":"posts/3e5d6f64.html","link":"","permalink":"https://maoshu.fun/posts/3e5d6f64.html","excerpt":"","text":"遇到的坑首先根据官网文档：https://www.electronforge.io/，`yarn create electron-app my-app`，执行到一半卡住了。然后找了其他方法，如下: 全局安装forge clinpm i -g @electron-forge/cli 这里我安装报错了，所以改为了 cnpm的方式安装，安装成功了 npm i -g @electron-forge/cli 但是运行 electron-forge init my-app 来创建项目，依旧是卡住，卡住的地方一模一样： 卡在这里走不动 解决方法 在之前安装electron时也遇到过卡死，当时时因为网络原因，那这个可能也是网络原因 配置下npm的镜像源 npm config set ELECTRON_MIRROR http://npm.taobao.org/mirrors/electron/ 再次执行 electron-forge init my-app ，成功了，虽然安装npm dependencies也用了一段时间，但是终究快很多，不至于卡死 启动npm start 打包和发布打包为绿色免安装文件npm run package 打包为exe文件但我这边一直报错，无法解决 npm run make 找了各种方法都无法解决，没办法，只能用第三方工具去打包了 使用 Inno Setup 打包为exe安装程序下载地址：https://pc.qq.com/detail/13/detail_1313.html","categories":[],"tags":[{"name":"electron","slug":"electron","permalink":"https://maoshu.fun/tags/electron/"}]},{"title":"vue-elementui-admin安装步骤和安装依赖报错解决方案整理","slug":"vue-elementui-admin安装步骤和安装依赖报错解决方案整理","date":"2021-08-10T13:41:50.000Z","updated":"2021-08-10T13:43:11.082Z","comments":true,"path":"posts/c453aadd.html","link":"","permalink":"https://maoshu.fun/posts/c453aadd.html","excerpt":"","text":"文档&amp;链接文档说明：https://panjiachen.github.io/vue-element-admin-site/zh/guide/admin集成方案：https://github.com/PanJiaChen/vue-element-admin基础模板方案：https://github.com/PanJiaChen/vue-admin-template/tree/permission-control 我此次用的是基础方案，带路由权限控制的版本 开始安装1.克隆git仓库遇到第一个问题：http代理问题解决方法：取消http代理 git config --global --unset http.proxy 2.安装依赖 npm install依赖非常多，安装非常慢，一定要耐心等这次很幸运，顺利安装完成： 不幸的各种情况整理1.python报错Error: Can’t find Python executable “python”, you can set the PYTHON env variable解决方法：npm install –global –production windows-build-toolsnpm install -g node-gyp 检查下系统环境变量里是否有python，没有的话，配置下环境变量 3.启动 npm run dev","categories":[],"tags":[]},{"title":"一些好用的npm包和github项目整理","slug":"一些好用的npm包整理","date":"2021-08-10T05:36:46.000Z","updated":"2021-09-30T01:31:31.453Z","comments":true,"path":"posts/effba3b3.html","link":"","permalink":"https://maoshu.fun/posts/effba3b3.html","excerpt":"","text":"一键复制 https://www.npmjs.com/package/clipboard vue复制 https://www.npmjs.com/package/vue-clipboard 时间日期 https://www.npmjs.com/package/dayjs 快速删除node_modules npm install rimraf -g rimraf node_modules 浏览器同步 browser-sync 裁剪图片神器 cropperjs 文件下载 FileSaver 判断当前用户输入是否触发快捷键 is-hotkey 浏览器滚动条美化 perfect-scrollbar 小提示窗popper 代码高亮处理highlight 或 prism 无头浏览器 puppeteer 强烈推荐 二维码生成 qrcode 参数处理，基本必备 query-string 浏览器信息处理 ua-parser-js 实用工具库 loadsh cookie处理 js-cookie 媒体类型 mime 地址格式化 address-parse element 地址类组件库 element-address","categories":[],"tags":[]},{"title":"fastadmin按钮buttons全部事件整理","slug":"fastadmin按钮全部事件整理","date":"2021-08-07T23:54:16.000Z","updated":"2021-08-10T13:41:34.188Z","comments":true,"path":"posts/31bfa1d6.html","link":"","permalink":"https://maoshu.fun/posts/31bfa1d6.html","excerpt":"","text":"相关链接 一张图解析FastAdmin中的表格列表的功能(第15条) https://ask.fastadmin.net/article/323.html 一张图解析FastAdmin中的弹出窗口的功能 https://ask.fastadmin.net/article/2527.html classname来控制按钮执行方式弹出窗口 btn-dialog，ajax请求 btn-ajax，新选项卡btn-addtabs，自定义点击事件 btn-click 按钮组 样例&#123; field: &#39;buttons&#39;, width: &quot;120px&quot;, title: &#39;按钮组&#39;, table: table, events: Table.api.events.operate, buttons: [ ], formatter: Table.api.formatter.buttons &#125; 弹出窗口 btn-dialog 修改弹出窗大小 extend: &#39; data-area = \\&#39;[&quot;800px&quot;,&quot;600px&quot;]\\&#39; &#39;, &#123; name: &#39;detail&#39;, text: __(&#39;弹出窗口打开&#39;), title: __(&#39;弹出窗口打开&#39;), classname: &#39;btn btn-xs btn-primary btn-dialog&#39;, icon: &#39;fa fa-list&#39;, url: &#39;example/bootstraptable/detail&#39;, callback: function (data) &#123; Layer.alert(&quot;接收到回传数据：&quot; + JSON.stringify(data), &#123;title: &quot;回传数据&quot;&#125;); &#125;, visible: function (row) &#123; //返回true时按钮显示,返回false隐藏 return true; &#125; &#125; ajax请求 btn-ajax完成后刷新表格 refresh: true, //或者 success: function (data, ret) &#123; table.bootstrapTable(&#39;refresh&#39;); &#125;, &#123; name: &#39;ajax&#39;, text: __(&#39;发送Ajax&#39;), title: __(&#39;发送Ajax&#39;), classname: &#39;btn btn-xs btn-success btn-magic btn-ajax&#39;, icon: &#39;fa fa-magic&#39;, url: &#39;example/bootstraptable/detail&#39;, confirm: &#39;确认发送&#39;, success: function (data, ret) &#123; Layer.alert(ret.msg + &quot;,返回数据：&quot; + JSON.stringify(data)); //如果需要阻止成功提示，则必须使用return false; //return false; &#125;, error: function (data, ret) &#123; console.log(data, ret); Layer.alert(ret.msg); return false; &#125; &#125; 新选项卡 btn-addtabs &#123; name: &#39;addtabs&#39;, text: __(&#39;新选项卡中打开&#39;), title: __(&#39;新选项卡中打开&#39;), classname: &#39;btn btn-xs btn-warning btn-addtabs&#39;, icon: &#39;fa fa-folder-o&#39;, url: &#39;example/bootstraptable/detail&#39; &#125; 自定义点击按钮事件 btn-click此处例子为点击弹出窗口，输入文字，执行ajax请求 &#123; name: &#39;shield&#39;, text: &#39;完成&#39;, icon: &#39;fa fa-check-circle fa-fw&#39;, classname: &#39;btn btn-xs btn-success btn-click&#39;, click:function(e,s) &#123; layer.prompt(&#123;title:&quot;填写奖金数值&quot;&#125;,function(val, index)&#123; if(!val || val ==0 )&#123; layer.msg(&quot;请先填写正确的奖金数值！&quot;); return; &#125; if (isNaN(val)) &#123; layer.msg(&quot;请输入数字！&quot;); return; &#125; $.ajax(&#123; type: &quot;post&quot;, url: &quot;survey/over&quot;, data: &#123; ids:s.id, bonus:val &#125;, dataType: &quot;json&quot;, success: function (response) &#123; if(response.code == 2)&#123; layer.msg(response.msg) &#125; else&#123; layer.close(index); table.bootstrapTable(&#39;refresh&#39;); &#125; &#125; &#125;); &#125;); return false &#125;, refresh: true, visible: function (row) &#123; //返回true时按钮显示,返回false隐藏 // console.log(row) return !row.status; &#125; &#125;, 普通列（非操作列）里怎么加按钮利用formatter 来处理再输出 &#123;field: &#39;ceshis&#39;, title: __(&#39;Ceshis&#39;),formatter:function(a,b,c) &#123; console.log(&#39;a,b,c: &#39;, a,b,c); return a+&#39;--&#39;+&#39;&lt;button class=&quot;btn btn-xs btn-info&quot; onclick=&quot;console.log(&#39;+c+&#39;);return false;&quot;&gt;点击&lt;/button&gt;&#39; &#125;&#125;, 怎么去掉edit del dragsort 这样的按钮修改 operate 其他参数 dropdown: ‘更多’,//如果包含dropdown，将会以下拉列表的形式展示 &#123; name: &#39;addtabs&#39;, text: __(&#39;新选项卡中打开&#39;), title: __(&#39;新选项卡中打开&#39;), dropdown: &#39;更多&#39;,//如果包含dropdown，将会以下拉列表的形式展示 classname: &#39;btn btn-xs btn-warning btn-addtabs&#39;, icon: &#39;fa fa-folder-o&#39;, url: &#39;./ceshi1/demo1&#39; &#125; 扩展知识：点击就自动选中了checkbox，双击就弹出编辑，怎么关闭？方法1：改html:table 加上属性即可 ： 关闭点击选中： data-click-to-select=&quot;false&quot; 关闭双击编辑：data-dbl-click-to-edit=&quot;false&quot; 方法2：改jsclickToSelect: false, //是否启用点击选中 dblClickToEdit: false, //是否启用双击编辑 方法3：改js可控制某一列禁用点击选中 table.on(&#39;post-body.bs.table&#39;, function (e, settings, json, xhr) &#123; $(&#39;tr td:eq(2)&#39;,this).off(&#39;click&#39;) &#125;); 可定义自己的双击事件 table.on(&#39;dbl-click-row.bs.table&#39;, function (e, row, element, field) &#123; console.log(&#39;双击一行&#39;); return false // $(Table.config.editonebtn, element).trigger(&quot;click&quot;); &#125;);","categories":[],"tags":[]},{"title":"hexo-volantis主题修改代码高亮风格","slug":"hexo-volantis主题修改代码高亮风格","date":"2021-08-07T06:38:02.000Z","updated":"2021-08-07T12:04:17.044Z","comments":true,"path":"posts/22663.html","link":"","permalink":"https://maoshu.fun/posts/22663.html","excerpt":"","text":"前言 猫叔的博客是基于hexo制作的，选用主题为volantis，纵然这套主题我是特别喜欢，但它的代码高亮做的不是特别适合我，不如next主题里面的代码高亮风格那么好看（主要是暗色风格），但next主题我又不是特别喜欢，于是研究了下他的修改方法，终于找到 一篇改造博客，但里面多少有点错误并且步骤不完整，于是做一些补充。 步骤1.highlightjs不支持显示行号，改造使其支持1).修改ejs文件修改路径：themes/volantis/layout/_third-party/highlistjs/script.ejs 改造核心如下图，就是引入了highlightjs-line-numbers.min.js： 改造后代码： &lt;% if (theme.plugins.highlightjs.js) &#123; %&gt; &lt;%- js(theme.plugins.highlightjs.js) %&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt;hljs.initHighlightingOnLoad();&lt;/script&gt; &lt;script&gt;hljs.initLineNumbersOnLoad(&#123; singleLine: true &#125;);&lt;/script&gt; &lt;% &#125; %&gt; &lt;script&gt; volantis.pjax.push(()=&gt;&#123; document.querySelectorAll(&#39;pre code&#39;).forEach((block) =&gt; &#123; hljs.highlightBlock(block); hljs.lineNumbersBlock(block, &#123; singleLine: true &#125;); &#125;); &#125;,&quot;highlightjs&quot;) &lt;/script&gt; 注意，这时候可能控制台会报如下提示，只需把hljs.initHighlightingOnLoad()改为hljs.highlightAll()即可 Deprecated as of 10.6.0. initHighlightingOnLoad() is deprecated. Use highlightAll() instead. 2).创建行号的样式文件.styl路径：themes/volantis/source/css/ 目录下新建 _other 文件夹，然后在里面新建 codeblock.styl 文件，路径如下图： css样式代码如下： /* for block of numbers */ .hljs-ln-numbers &#123; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; text-align: center; color: #666; border-right: 1px solid #666; vertical-align: top; padding-right: 5px !important; /* your custom style here */ &#125; /* for block of code */ .hljs-ln-code &#123; padding-left: 10px !important; &#125; 3.)引入styl文件修改路径：source/css/style.styl，添加以下内容： @import &#39;_other/*&#39; 2.禁用hexo默认的高亮设置打开hexo的根目录下的主配置文件_config.yml，highlight设为false highlight: enable: false 3.修改volantis的高亮设置修改路径：_config.volantis.yml或者volantis主题下的_config.yml文件，搜索 highlightjs 关键字，找到高亮配置（如果没有的话，则添加即可），把他开启，并设置新的css样式 1.找合适的css样式表去官网找 https://highlightjs.org/static/demo/点击左侧theme查看效果，最终挑选好喜欢的样式这里我找的是Night Owl这款，于是拼接样式地址https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/styles/night-owl.min.css，重点就是结尾的文件名night-owl，规则就是驼峰写法的转换。 2.修改配置enable改为true，修改css引用 plugins: highlightjs: enable: true js: https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/highlight.min.js css: https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/styles/night-owl.min.css 完成改完记得 hexo g &amp;&amp; hexo s 查看效果，如果有些文章不生效，那就需要先执行 hexo clean 效果图：","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://maoshu.fun/tags/hexo/"}]},{"title":"fastadmin 常用知识点整理","slug":"fastadmin","date":"2021-08-07T03:52:53.000Z","updated":"2021-08-07T23:54:52.423Z","comments":true,"path":"posts/25256.html","link":"","permalink":"https://maoshu.fun/posts/25256.html","excerpt":"","text":"js里怎么取到config里的数据 以token为例，这里先在后端把数据写入config，然后在前端js里就会有我们设置的token了 1.后端php部分$this-&gt;assignconfig(&quot;token&quot;, $this-&gt;auth-&gt;token); 2.前端js部分console.log(Config.token) 通过变量Config可以取到你想要的东西","categories":[],"tags":[{"name":"fastadmin","slug":"fastadmin","permalink":"https://maoshu.fun/tags/fastadmin/"}]}],"categories":[],"tags":[{"name":"油猴脚本","slug":"油猴脚本","permalink":"https://maoshu.fun/tags/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/"},{"name":"electron","slug":"electron","permalink":"https://maoshu.fun/tags/electron/"},{"name":"hexo","slug":"hexo","permalink":"https://maoshu.fun/tags/hexo/"},{"name":"fastadmin","slug":"fastadmin","permalink":"https://maoshu.fun/tags/fastadmin/"}]}